language: csharp 
dist: trusty
os: linux
mono: none
dotnet: 2.1.4
services:
- docker
before_install:
- npm install -g npm
install:
- dotnet restore ./angular5dotnetcore2.0/dotnetcoreplusangular5Template.sln
script:
 - dotnet --info
 - dotnet build ./angular5dotnetcore2.0/dotnetcoreplusangular5Template.sln
 - ls -a
 - chmod +x build.sh && bash build.sh
after_success:
 - docker login -e $Docker_Email -u $Docker_UserName -p $Docker_Password
 - export TAG=`if [ "$TRAVIS_BRANCH" == "master" ]; then echo "latest"; else echo $TRAVIS_BRANCH ; fi`
 - docker build -f Dockerfile -t $Docker_Repo:$COMMIT .
 - docker tag $REPO:$COMMIT $Docker_Repo:$TAG
 - docker tag $REPO:$COMMIT $Docker_Repo:travis-$TRAVIS_BUILD_NUMBER
 - docker push $REPO
